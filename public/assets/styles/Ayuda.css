/* ===== Reset / Vars (ESTILO UNIFICADO) ===== */
*{ box-sizing:border-box }
html,body{ margin:0; padding:0 }
:root{
  --primary:#66D575; --primary-strong:#41ba5d; --ink:#0f172a; --muted:#5b6570;
  --line:#e5e7eb; --bg:#ffffff; --shadow:0 12px 28px rgba(0,0,0,.08);
  --radius:24px;
}
html { height: 100%; }
body{
  font-family:system-ui,-apple-system,sans-serif; color:var(--ink); line-height:1.45;
  display: flex; flex-direction: column; min-height: 100vh;
  background: linear-gradient(160deg, #dcfce7 0%, #dbeafe 100%);
}
a, button { color:inherit; text-decoration:none }

/* ===== Header (ESTILO UNIFICADO) ===== */
header{ position:sticky; top:0; z-index:50; display:flex; align-items:center; justify-content:space-between; padding:10px 18px; background:rgba(255,255,255,.92); backdrop-filter:saturate(180%) blur(10px); border-bottom:1px solid var(--line); flex-shrink: 0; }
.Logo{ height:64px; }
header nav{ display:flex; gap:16px; font-weight:600; }
header nav a{ padding:8px 10px; border-radius:10px; }
header nav a:hover{ background:#f8fafc; }
header nav .active{ color:var(--primary-strong); font-weight: 700; }
header nav .Perfil{ background:var(--primary); color:#fff; padding:8px 16px; border-radius:10px; }
header nav .Perfil.active, .Perfil:hover{ background: #1aad6b;}
.menu-toggle{ display:none; border:1px solid var(--line); background:#fff; border-radius:12px; padding:8px 10px; font-size:18px; line-height:1; cursor:pointer; }

/* ===== Popover de Perfil (CORREGIDO Y COMPLETO) ===== */
.profile-popover{ position:fixed; top:72px; right:18px; width:260px; background:#fff; border:1px solid var(--line); border-radius:14px; box-shadow:var(--shadow); padding:12px 14px; z-index:80; display:none; }
.profile-popover.open{ display:block; }
.profile-popover__header{ display:flex; justify-content:center; padding:6px 0 10px; }
.profile-popover__avatar{ width:52px; height:52px; border-radius:50%; display:grid; place-items:center; background:#f1f5f9; border:1px solid var(--line); font-size:24px; }
.profile-popover__list{ list-style:none; padding:0; margin:10px 0 12px; }
.profile-popover__list a{ display:block; padding:10px; border-radius:10px; }
.profile-popover__list a:hover{ background:#f8fafc; }
.profile-popover__list a.active-profile-link { color: var(--primary-strong); font-weight: 600; }
.btn-logout { display: block; width: 80%; margin: 0 auto; padding: 10px 12px; border-radius: 10px; border: 0; background: var(--primary); color: #fff; font-weight: 700; cursor: pointer; text-align: center; }
.btn-logout:hover{ background:var(--primary-strong); }

/* ===== Página de Ayuda / Chatbot ===== */
.help-page {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 40px 24px;
  flex-grow: 1; /* ✨ CLAVE: Hace que esta sección ocupe todo el espacio sobrante ✨ */
}
.chat-container {
  width: 100%;
  max-width: 800px;
  height: 100%; /* Ocupa todo el alto de su padre (.help-page) */
  background-color: var(--bg);
  border-radius: var(--radius);
  box-shadow: 0 0 0 8px rgba(255,255,255,0.3), var(--shadow);
  border: 1px solid rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
}
.chat-container__title { text-align: center; font-size: 24px; padding: 20px; margin: 0; flex-shrink: 0; }
.message-list { flex-grow: 1; padding: 0 24px 24px; overflow-y: auto; display: flex; flex-direction: column; gap: 16px; }
.message { display: flex; gap: 12px; max-width: 70%; align-items: flex-end; }
.message__avatar { width: 32px; height: 32px; border-radius: 50%; background-color: #f1f5f9; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.message__avatar svg { width: 20px; height: 20px; }
.message__bubble { padding: 12px 16px; border-radius: 16px; }
.message--user { align-self: flex-end; }
.message--user .message__bubble { background-color: #e0f2fe; border-bottom-right-radius: 4px; }
.message--bot .message__bubble { background-color: #f1f5f9; border-bottom-left-radius: 4px; }
.message--typing .message__bubble { display: flex; align-items: center; gap: 4px; }
.typing-dot { width: 8px; height: 8px; background-color: var(--muted); border-radius: 50%; animation: typing 1.2s infinite ease-in-out; }
@keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1.0); } }
.message-form { display: flex; gap: 12px; padding: 20px; border-top: 1px solid var(--line); flex-shrink: 0; }
.input-wrapper { flex-grow: 1; display: flex; align-items: center; border: 1px solid var(--line); border-radius: 16px; background-color: #f8fafc; }
#message-input { flex-grow: 1; border: none; background: transparent; padding: 14px 16px; font-size: 16px; outline: none; }
.attach-btn { background: none; border: none; padding: 12px; cursor: pointer; }
.attach-btn svg { width: 24px; height: 24px; fill: var(--muted); }
.send-btn { background-color: var(--primary); color: white; border: none; padding: 0 24px; font-size: 16px; font-weight: 600; border-radius: 12px; cursor: pointer; }

/* ===== Footer y Modals (claro) ===== */
footer{
  display:grid;
  grid-template-columns:auto 1fr 1fr 1fr;
  grid-template-areas:
    "logo links1 links2 links3"
    "desc links1 links2 links3"
    "line line   line   line"
    "copy copy   copy   copy";
  gap:16px 28px; align-items:start;
  padding:20px 18px; background:#fff; color:#8F8C8C; margin-top:16px;
}
footer > img{ grid-area:logo; height:64px; display:block }
footer > span{ grid-area:desc; color:#8F8C8C; max-width:380px }
footer > article:nth-of-type(1){ grid-area:links1; min-width:220px }
footer > article:nth-of-type(2){ grid-area:links2; min-width:220px }
footer > article:nth-of-type(3){ grid-area:links3; min-width:220px }
footer article h4{ margin:0 0 8px; color:#212121; font-weight:700 }
footer article a{ display:block; color:#8F8C8C; margin:4px 0 }
footer article a:hover{ text-decoration:underline }
footer hr{ grid-area:line; border:none; border-top:1px solid var(--primary); margin:8px 0 10px }
footer small{ grid-area:copy; color:#8F8C8C; text-align:center }

/* ===== Responsive ===== */
@media (max-width: 860px) {
  .menu-toggle{ display:inline-block; }
  header nav{ display:none; position:absolute; right:18px; top:calc(100% + 8px); z-index: 60; background: #fff; border: 1px solid var(--line); border-radius: 14px; padding: 12px; box-shadow: var(--shadow); flex-direction: column; gap: 8px; min-width: 220px; }
  header nav.open { display: flex; }
  
  .help-page {
    padding: 0; /* Quitamos todo el padding en móvil */
  }
  .chat-container {
    height: 100%; /* Ocupa el 100% del alto de .help-page */
    max-width: 100%;
    border-radius: 0; /* Sin bordes redondeados */
    box-shadow: none; /* Sin sombra */
    border: none;
  }
  .chat-container__title { font-size: 20px; }
  .message-list { padding: 0 16px 16px; }
  .message-form { padding: 12px; gap: 8px; }
  #message-input { padding: 12px 14px; }
  .send-btn { padding: 0 20px; }
}

